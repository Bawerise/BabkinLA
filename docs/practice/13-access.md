# 13) Управление доступом

1. Настройте роли для доступа к базе данных
    - создайте роли `writer` и `reader`
    - проверьте наличие ролей (`\du`)
    - создайте базу данных и подключитесь к ней
    - отзовите у роли `public` все привилегии на схему `public`, выдайте роли `writer` все привилегии, а роли `reader` — только `usage`
    - настройте привилегии по умолчанию так, чтобы роль `reader` получала доступ на чтение к таблицам в схеме `public`, принадлежащим `writer`
    - создайте роли `w1`, унаследовав `writer`, и пользователя `r1`, унаследовав `reader`
    - подключитесь к базе данных ролью `writer`
    - создайте в ней таблицу с единственной колонкой типа `NUMERIC`
    - подключитесь к базе данных ролью `w1`
    - добавьте в таблицу запись
    - подключитесь к базе данных ролью `r1`
    - выполните чтение из таблицы
    - попытайтесь выполнить изменение записи
    - подключитесь к базе данных ролью `w1`
    - удалите таблицу
2. Отредактируйте правила аутентификации
    - просмотрите активные правила (запросом к `pg_hba_file_rules`)
    - на хосте отредактируйте (например, с помощью nano) содержимое файла `config/pg_hba.conf`, добавив в начало файла строку `host all all all trust`
    - перечитайте конфигурацию в psql (с помощью `pg_reload_conf`)
    - проверьте подключение без пароля
    ```bash
    docker compose exec db psql -h 127.0.0.1 -U r1 -d имя_базы_данных;"
    ```
    - верните исходное состояние файла `config/pg_hba.conf`
    - повторно перечитайте конфигурацию

# Содержимое пояснительной записки
1. Скриншоты с введенными командами, результатами их выполнения и развернутые комментарии к ним
2. Содержимое файла `pg_hba.conf` после редактирования